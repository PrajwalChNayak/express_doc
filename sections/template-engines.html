<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Template Engines | Express.js Documentation</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
  <!-- Header will be inserted here by JavaScript -->
  <div id="header"></div>
  
  <main class="container mx-auto px-4 py-8 flex-grow">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
      <h1 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">Template Engines in Express.js</h1>
      
      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">What Are Template Engines?</h2>
        <p class="mb-4 text-gray-600 leading-relaxed">
          Template engines enable you to use static template files in your application. At runtime, the template engine replaces variables in a template file with actual values, and transforms the template into an HTML file sent to the client. This approach makes it easier to design an HTML page.
        </p>
        <p class="mb-4 text-gray-600 leading-relaxed">
          Some popular template engines that work with Express include Pug, EJS, Handlebars, and Nunjucks.
        </p>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">Setting Up a Template Engine</h2>
        <p class="mb-4 text-gray-600 leading-relaxed">
          To set up a template engine with Express, you need to:
        </p>
        <ol class="list-decimal pl-6 space-y-2 text-gray-600 mb-4">
          <li>Install the template engine package</li>
          <li>Set the 'view engine' property in your Express app</li>
          <li>Create template files in the 'views' directory</li>
        </ol>
        <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
          <code>
            // Install the template engine (for example, Pug)<br>
            // $ npm install pug --save<br>
            <br>
            const express = require('express');<br>
            const app = express();<br>
            <br>
            // Set the view engine to pug<br>
            app.set('view engine', 'pug');<br>
            <br>
            // Optionally, set the views directory<br>
            app.set('views', './views'); // default is ./views
          </code>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">Common Template Engines</h2>
        
        <div class="mb-6">
          <h3 class="text-xl font-semibold mb-2 text-gray-700">Pug (formerly Jade)</h3>
          <p class="mb-3 text-gray-600 leading-relaxed">
            Pug is a high-performance template engine heavily influenced by Haml. It has a clean, whitespace-sensitive syntax that makes writing HTML more concise.
          </p>
          <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
            <code>
              // Installation<br>
              // $ npm install pug --save<br>
              <br>
              // app.js<br>
              app.set('view engine', 'pug');<br>
              <br>
              // Route<br>
              app.get('/', (req, res) => {<br>
              &nbsp;&nbsp;res.render('index', { title: 'Hey', message: 'Hello there!' });<br>
              });<br>
              <br>
              // views/index.pug<br>
              html<br>
              &nbsp;&nbsp;head<br>
              &nbsp;&nbsp;&nbsp;&nbsp;title= title<br>
              &nbsp;&nbsp;body<br>
              &nbsp;&nbsp;&nbsp;&nbsp;h1= message
            </code>
          </div>
        </div>

        <div class="mb-6">
          <h3 class="text-xl font-semibold mb-2 text-gray-700">EJS (Embedded JavaScript)</h3>
          <p class="mb-3 text-gray-600 leading-relaxed">
            EJS is a simple templating language that lets you generate HTML markup with plain JavaScript. It uses HTML syntax with special delimiters to embed JavaScript code.
          </p>
          <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
            <code>
              // Installation<br>
              // $ npm install ejs --save<br>
              <br>
              // app.js<br>
              app.set('view engine', 'ejs');<br>
              <br>
              // Route<br>
              app.get('/', (req, res) => {<br>
              &nbsp;&nbsp;res.render('index', { title: 'Hey', message: 'Hello there!' });<br>
              });<br>
              <br>
              // views/index.ejs<br>
              &lt;!DOCTYPE html&gt;<br>
              &lt;html&gt;<br>
              &lt;head&gt;<br>
              &nbsp;&nbsp;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;<br>
              &lt;/head&gt;<br>
              &lt;body&gt;<br>
              &nbsp;&nbsp;&lt;h1&gt;&lt;%= message %&gt;&lt;/h1&gt;<br>
              &lt;/body&gt;<br>
              &lt;/html&gt;
            </code>
          </div>
        </div>

        <div class="mb-6">
          <h3 class="text-xl font-semibold mb-2 text-gray-700">Handlebars</h3>
          <p class="mb-3 text-gray-600 leading-relaxed">
            Handlebars provides minimal templating with a logic-less system. It uses a template and an input object to generate HTML. In Express, you can use it via express-handlebars.
          </p>
          <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
            <code>
              // Installation<br>
              // $ npm install express-handlebars --save<br>
              <br>
              // app.js<br>
              const exphbs = require('express-handlebars');<br>
              <br>
              app.engine('handlebars', exphbs.engine({ defaultLayout: 'main' }));<br>
              app.set('view engine', 'handlebars');<br>
              <br>
              // Route<br>
              app.get('/', (req, res) => {<br>
              &nbsp;&nbsp;res.render('home', { title: 'Hey', message: 'Hello there!' });<br>
              });<br>
              <br>
              // views/layouts/main.handlebars<br>
              &lt;!DOCTYPE html&gt;<br>
              &lt;html&gt;<br>
              &lt;head&gt;<br>
              &nbsp;&nbsp;&lt;title&gt;{{title}}&lt;/title&gt;<br>
              &lt;/head&gt;<br>
              &lt;body&gt;<br>
              &nbsp;&nbsp;{{{body}}}<br>
              &lt;/body&gt;<br>
              &lt;/html&gt;<br>
              <br>
              // views/home.handlebars<br>
              &lt;h1&gt;{{message}}&lt;/h1&gt;
            </code>
          </div>
        </div>

        <div class="mb-6">
          <h3 class="text-xl font-semibold mb-2 text-gray-700">Nunjucks</h3>
          <p class="mb-3 text-gray-600 leading-relaxed">
            Nunjucks is a rich and powerful templating language for JavaScript, inspired by Jinja2.
          </p>
          <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
            <code>
              // Installation<br>
              // $ npm install nunjucks --save<br>
              <br>
              // app.js<br>
              const nunjucks = require('nunjucks');<br>
              <br>
              nunjucks.configure('views', {<br>
              &nbsp;&nbsp;autoescape: true,<br>
              &nbsp;&nbsp;express: app<br>
              });<br>
              app.set('view engine', 'njk');<br>
              <br>
              // Route<br>
              app.get('/', (req, res) => {<br>
              &nbsp;&nbsp;res.render('index.njk', { title: 'Hey', message: 'Hello there!' });<br>
              });<br>
              <br>
              // views/index.njk<br>
              &lt;!DOCTYPE html&gt;<br>
              &lt;html&gt;<br>
              &lt;head&gt;<br>
              &nbsp;&nbsp;&lt;title&gt;{{ title }}&lt;/title&gt;<br>
              &lt;/head&gt;<br>
              &lt;body&gt;<br>
              &nbsp;&nbsp;&lt;h1&gt;{{ message }}&lt;/h1&gt;<br>
              &lt;/body&gt;<br>
              &lt;/html&gt;
            </code>
          </div>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">Using Partials/Includes</h2>
        <p class="mb-4 text-gray-600 leading-relaxed">
          Most template engines support including partial templates to promote code reuse and maintainability.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white border rounded-lg p-4 shadow-sm">
            <h3 class="font-semibold mb-2">Pug</h3>
            <div class="bg-gray-800 text-white p-3 rounded-md overflow-x-auto text-sm">
              <code>
                // views/layout.pug<br>
                html<br>
                &nbsp;&nbsp;head<br>
                &nbsp;&nbsp;&nbsp;&nbsp;title= title<br>
                &nbsp;&nbsp;body<br>
                &nbsp;&nbsp;&nbsp;&nbsp;include partials/header<br>
                &nbsp;&nbsp;&nbsp;&nbsp;block content<br>
                &nbsp;&nbsp;&nbsp;&nbsp;include partials/footer<br>
                <br>
                // views/partials/header.pug<br>
                header<br>
                &nbsp;&nbsp;h1 My Site<br>
                &nbsp;&nbsp;nav<br>
                &nbsp;&nbsp;&nbsp;&nbsp;a(href="/") Home<br>
                &nbsp;&nbsp;&nbsp;&nbsp;a(href="/about") About
              </code>
            </div>
          </div>
          <div class="bg-white border rounded-lg p-4 shadow-sm">
            <h3 class="font-semibold mb-2">EJS</h3>
            <div class="bg-gray-800 text-white p-3 rounded-md overflow-x-auto text-sm">
              <code>
                // views/index.ejs<br>
                &lt;!DOCTYPE html&gt;<br>
                &lt;html&gt;<br>
                &lt;head&gt;<br>
                &nbsp;&nbsp;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;<br>
                &lt;/head&gt;<br>
                &lt;body&gt;<br>
                &nbsp;&nbsp;&lt;%- include('partials/header') %&gt;<br>
                &nbsp;&nbsp;&lt;h1&gt;&lt;%= message %&gt;&lt;/h1&gt;<br>
                &nbsp;&nbsp;&lt;%- include('partials/footer') %&gt;<br>
                &lt;/body&gt;<br>
                &lt;/html&gt;
              </code>
            </div>
          </div>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">Template Data</h2>
        <p class="mb-4 text-gray-600 leading-relaxed">
          You can pass data to your templates when rendering them:
        </p>
        <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
          <code>
            app.get('/users', async (req, res) => {<br>
            &nbsp;&nbsp;// Imagine this data comes from a database<br>
            &nbsp;&nbsp;const users = [<br>
            &nbsp;&nbsp;&nbsp;&nbsp;{ name: 'John', age: 30 },<br>
            &nbsp;&nbsp;&nbsp;&nbsp;{ name: 'Jane', age: 25 },<br>
            &nbsp;&nbsp;&nbsp;&nbsp;{ name: 'Bob', age: 35 }<br>
            &nbsp;&nbsp;];<br>
            <br>
            &nbsp;&nbsp;res.render('users', {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;title: 'User List',<br>
            &nbsp;&nbsp;&nbsp;&nbsp;users: users,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;isAdmin: req.user?.isAdmin || false,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;currentYear: new Date().getFullYear()<br>
            &nbsp;&nbsp;});<br>
            });
          </code>
        </div>
        <div class="bg-gray-800 text-white p-4 rounded-md mb-4 overflow-x-auto">
          <code>
            // views/users.ejs<br>
            &lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;<br>
            <br>
            &lt;ul&gt;<br>
            &nbsp;&nbsp;&lt;% users.forEach(function(user) { %&gt;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;%= user.name %&gt; (&lt;%= user.age %&gt;)&lt;/li&gt;<br>
            &nbsp;&nbsp;&lt;% }); %&gt;<br>
            &lt;/ul&gt;<br>
            <br>
            &lt;% if (isAdmin) { %&gt;<br>
            &nbsp;&nbsp;&lt;a href="/users/new"&gt;Add New User&lt;/a&gt;<br>
            &lt;% } %&gt;<br>
            <br>
            &lt;footer&gt;&copy; &lt;%= currentYear %&gt;&lt;/footer&gt;
          </code>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700">Best Practices</h2>
        <ul class="list-disc pl-6 space-y-2 text-gray-600">
          <li>Organize templates into directories based on functionality</li>
          <li>Use layouts and partials for code reuse</li>
          <li>Keep logic in controllers, not in templates</li>
          <li>Use client-side caching headers for better performance</li>
          <li>Consider server-side template caching in production</li>
          <li>Use conditional statements sparingly in templates</li>
        </ul>
      </section>
    </div>
  </main>
  
  <!-- Footer will be inserted here by JavaScript -->
  <div id="footer"></div>
  
  <!-- Common JavaScript for header and footer -->
  <script src="../js/common.js"></script>
</body>
</html>
